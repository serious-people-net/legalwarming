(self.webpackChunkextract_css=self.webpackChunkextract_css||[]).push([["94141"],{129585:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n;(function(a){a.CIRCLE_USER=1,a.DEVELOPER=2,a.ENTERPRISE=3})(n||(n={}));var m=n;e.default=m,D.exports=e.default},53477:function(D){function e(n,m,a){switch(a.length){case 0:return n.call(m);case 1:return n.call(m,a[0]);case 2:return n.call(m,a[0],a[1]);case 3:return n.call(m,a[0],a[1],a[2])}return n.apply(m,a)}D.exports=e},22836:function(D,e,n){var m=n(666814),a=n(768824);function S(v,f,c){(c!==void 0&&!a(v[f],c)||c===void 0&&!(f in v))&&m(v,f,c)}D.exports=S},352015:function(D,e,n){var m=n(547578),a=n(22836),S=n(165987),v=n(472591),f=n(58980),c=n(726146),h=n(357754);function u(d,l,t,o,s){d!==l&&S(l,function(i,r){if(s||(s=new m),f(i))v(d,l,r,t,u,o,s);else{var _=o?o(h(d,r),i,r+"",d,l,s):void 0;_===void 0&&(_=i),a(d,r,_)}},c)}D.exports=u},472591:function(D,e,n){var m=n(22836),a=n(144686),S=n(327640),v=n(195338),f=n(276249),c=n(217186),h=n(195593),u=n(237942),d=n(651023),l=n(687048),t=n(58980),o=n(540039),s=n(79656),i=n(357754),r=n(893057);function _(g,y,E,C,p,b,I){var w=i(g,E),U=i(y,E),P=I.get(U);if(P){m(g,E,P);return}var j=b?b(w,U,E+"",g,y,I):void 0,G=j===void 0;if(G){var B=h(U),N=!B&&d(U),k=!B&&!N&&s(U);j=U,B||N||k?h(w)?j=w:u(w)?j=v(w):N?(G=!1,j=a(U,!0)):k?(G=!1,j=S(U,!0)):j=[]:o(U)||c(U)?(j=w,c(w)?j=r(w):(!t(w)||l(w))&&(j=f(U))):G=!1}G&&(I.set(U,j),p(j,U,C,b,I),I.delete(U)),m(g,E,j)}D.exports=_},423793:function(D,e,n){var m=n(839039),a=n(206261),S=n(255428);function v(f,c){return S(a(f,c,m),f+"")}D.exports=v},207320:function(D,e,n){var m=n(764483),a=n(343563),S=n(839039),v=a?function(f,c){return a(f,"toString",{configurable:!0,enumerable:!1,value:m(c),writable:!0})}:S;D.exports=v},665169:function(D,e,n){var m=n(423793),a=n(22326);function S(v){return m(function(f,c){var h=-1,u=c.length,d=u>1?c[u-1]:void 0,l=u>2?c[2]:void 0;for(d=v.length>3&&typeof d=="function"?(u--,d):void 0,l&&a(c[0],c[1],l)&&(d=u<3?void 0:d,u=1),f=Object(f);++h<u;){var t=c[h];t&&v(f,t,h,d)}return f})}D.exports=S},206261:function(D,e,n){var m=n(53477),a=Math.max;function S(v,f,c){return f=a(f===void 0?v.length-1:f,0),function(){for(var h=arguments,u=-1,d=a(h.length-f,0),l=Array(d);++u<d;)l[u]=h[f+u];u=-1;for(var t=Array(f+1);++u<f;)t[u]=h[u];return t[f]=c(l),m(v,this,t)}}D.exports=S},357754:function(D){function e(n,m){if(!(m==="constructor"&&typeof n[m]=="function")&&m!="__proto__")return n[m]}D.exports=e},255428:function(D,e,n){var m=n(207320),a=n(397825),S=a(m);D.exports=S},397825:function(D){var e=800,n=16,m=Date.now;function a(S){var v=0,f=0;return function(){var c=m(),h=n-(c-f);if(f=c,h>0){if(++v>=e)return arguments[0]}else v=0;return S.apply(void 0,arguments)}}D.exports=a},764483:function(D){function e(n){return function(){return n}}D.exports=e},237942:function(D,e,n){var m=n(820799),a=n(301602);function S(v){return a(v)&&m(v)}D.exports=S},540039:function(D,e,n){var m=n(892876),a=n(880304),S=n(301602),v="[object Object]",f=Function.prototype,c=Object.prototype,h=f.toString,u=c.hasOwnProperty,d=h.call(Object);function l(t){if(!S(t)||m(t)!=v)return!1;var o=a(t);if(o===null)return!0;var s=u.call(o,"constructor")&&o.constructor;return typeof s=="function"&&s instanceof s&&h.call(s)==d}D.exports=l},646715:function(D,e,n){var m=n(352015),a=n(665169),S=a(function(v,f,c){m(v,f,c)});D.exports=S},893057:function(D,e,n){var m=n(98839),a=n(726146);function S(v){return m(v,a(v))}D.exports=S},58260:function(D,e,n){"use strict";var m,a,S;Object.defineProperty(e,"__esModule",{value:!0}),e._getInstance=e._getStatsigGlobalFlag=e._getStatsigGlobal=void 0;const v=n(953706),f=()=>__STATSIG__||o;e._getStatsigGlobal=f;const c=s=>(0,e._getStatsigGlobal)()[s];e._getStatsigGlobalFlag=c;const h=s=>{const i=(0,e._getStatsigGlobal)();return s?i.instances&&i.instances[s]:(i.instances&&Object.keys(i.instances).length>1&&v.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),i.firstInstance)};e._getInstance=h;const u="__STATSIG__",d=typeof window!="undefined"?window:{},l=typeof n.g!="undefined"?n.g:{},t=typeof globalThis!="undefined"?globalThis:{},o=(S=(a=(m=d[u])!==null&&m!==void 0?m:l[u])!==null&&a!==void 0?a:t[u])!==null&&S!==void 0?S:{instance:e._getInstance};d[u]=o,l[u]=o,t[u]=o},328694:function(D,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._getStorageKey=e._getUserStorageKey=void 0;const m=n(732975);function a(v,f,c){var h;if(c)return c(v,f);const u=f&&f.customIDs?f.customIDs:{},d=[`uid:${(h=f==null?void 0:f.userID)!==null&&h!==void 0?h:""}`,`cids:${Object.keys(u).sort((l,t)=>l.localeCompare(t)).map(l=>`${l}-${u[l]}`).join(",")}`,`k:${v}`];return(0,m._DJB2)(d.join("|"))}e._getUserStorageKey=a;function S(v,f,c){return f?a(v,f,c):(0,m._DJB2)(`k:${v}`)}e._getStorageKey=S},292889:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},554282:function(D,e,n){"use strict";var m=this&&this.__awaiter||function(o,s,i,r){function _(g){return g instanceof i?g:new i(function(y){y(g)})}return new(i||(i=Promise))(function(g,y){function E(b){try{p(r.next(b))}catch(I){y(I)}}function C(b){try{p(r.throw(b))}catch(I){y(I)}}function p(b){b.done?g(b.value):_(b.value).then(E,C)}p((r=r.apply(o,s||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e._makeDataAdapterResult=e.DataAdapterCore=void 0;const a=n(953706),S=n(256184),v=n(893011),f=n(596838),c=n(989087),h=10;class u{constructor(s,i){this._adapterName=s,this._cacheSuffix=i,this._options=null,this._sdkKey=null,this._lastModifiedStoreKey=`statsig.last_modified_time.${i}`,this._inMemoryCache=new l}attach(s,i,r){this._sdkKey=s,this._options=i}getDataSync(s){const i=s&&(0,v._normalizeUser)(s,this._options),r=this._getCacheKey(i),_=this._inMemoryCache.get(r,i);if(_)return _;const g=this._loadFromCache(r);return g?(this._inMemoryCache.add(r,g),this._inMemoryCache.get(r,i)):null}setData(s,i){const r=i&&(0,v._normalizeUser)(i,this._options),_=this._getCacheKey(r);this._inMemoryCache.add(_,d("Bootstrap",s,null,r))}_getDataAsyncImpl(s,i,r){return m(this,void 0,void 0,function*(){f.Storage.isReady()||(yield f.Storage.isReadyResolver());const _=s!=null?s:this.getDataSync(i),g=[this._fetchAndPrepFromNetwork(_,i,r)];return r!=null&&r.timeoutMs&&g.push(new Promise(y=>setTimeout(y,r.timeoutMs)).then(()=>(a.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(g)})}_prefetchDataImpl(s,i){return m(this,void 0,void 0,function*(){const r=s&&(0,v._normalizeUser)(s,this._options),_=this._getCacheKey(r),g=yield this._getDataAsyncImpl(null,r,i);g&&this._inMemoryCache.add(_,Object.assign(Object.assign({},g),{source:"Prefetch"}))})}_fetchAndPrepFromNetwork(s,i,r){var _;return m(this,void 0,void 0,function*(){const g=(_=s==null?void 0:s.data)!==null&&_!==void 0?_:null,y=s!=null&&this._isCachedResultValidFor204(s,i),E=yield this._fetchFromNetwork(g,i,r,y);if(!E)return a.Log.debug("No response returned for latest value"),null;const C=(0,c._typedJsonParse)(E,"has_updates","Response"),p=this._getSdkKey(),b=S.StableID.get(p);let I=null;if((C==null?void 0:C.has_updates)===!0)I=d("Network",E,b,i);else if(g&&(C==null?void 0:C.has_updates)===!1)I=d("NetworkNotModified",g,b,i);else return null;const w=this._getCacheKey(i);return this._inMemoryCache.add(w,I),this._writeToCache(w,I),I})}_getSdkKey(){return this._sdkKey!=null?this._sdkKey:(a.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(s){var i;const r=(i=f.Storage.getItem)===null||i===void 0?void 0:i.call(f.Storage,s);if(r==null)return null;const _=(0,c._typedJsonParse)(r,"source","Cached Result");return _?Object.assign(Object.assign({},_),{source:"Cache"}):null}_writeToCache(s,i){f.Storage.setItem(s,JSON.stringify(i)),this._runLocalStorageCacheEviction(s)}_runLocalStorageCacheEviction(s){var i;const r=(i=(0,f._getObjectFromStorage)(this._lastModifiedStoreKey))!==null&&i!==void 0?i:{};r[s]=Date.now();const _=t(r,h);_&&(delete r[_],f.Storage.removeItem(_)),(0,f._setObjectInStorage)(this._lastModifiedStoreKey,r)}}e.DataAdapterCore=u;function d(o,s,i,r){return{source:o,data:s,receivedAt:Date.now(),stableID:i,fullUserHash:(0,v._getFullUserHash)(r)}}e._makeDataAdapterResult=d;class l{constructor(){this._data={}}get(s,i){var r;const _=this._data[s],g=_==null?void 0:_.stableID,y=(r=i==null?void 0:i.customIDs)===null||r===void 0?void 0:r.stableID;return y&&g&&y!==g?(a.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):_}add(s,i){const r=t(this._data,h-1);r&&delete this._data[r],this._data[s]=i}merge(s){this._data=Object.assign(Object.assign({},this._data),s)}}function t(o,s){const i=Object.keys(o);return i.length<=s?null:i.reduce((r,_)=>{const g=o[r],y=o[_];return typeof g=="object"&&typeof y=="object"?y.receivedAt<g.receivedAt?_:r:y<g?_:r})}},782917:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Diagnostics=void 0;const n=new Map,m="start",a="end",S="statsig::diagnostics";e.Diagnostics={_getMarkers:u=>n.get(u),_markInitOverallStart:u=>{c(u,v({},m,"overall"))},_markInitOverallEnd:(u,d,l)=>{c(u,v({success:d,error:d?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:l},a,"overall"))},_markInitNetworkReqStart:(u,d)=>{c(u,v(d,m,"initialize","network_request"))},_markInitNetworkReqEnd:(u,d)=>{c(u,v(d,a,"initialize","network_request"))},_markInitProcessStart:u=>{c(u,v({},m,"initialize","process"))},_markInitProcessEnd:(u,d)=>{c(u,v(d,a,"initialize","process"))},_clearMarkers:u=>{n.delete(u)},_formatError(u){if(u&&typeof u=="object")return{code:h(u,"code"),name:h(u,"name"),message:h(u,"message")}},_getDiagnosticsData(u,d,l,t){var o;return{success:(u==null?void 0:u.ok)===!0,statusCode:u==null?void 0:u.status,sdkRegion:(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o.get("x-statsig-region"),isDelta:l.includes('"is_delta":true')===!0?!0:void 0,attempt:d,error:e.Diagnostics._formatError(t)}},_enqueueDiagnosticsEvent(u,d,l,t){const o=e.Diagnostics._getMarkers(l);if(o==null||o.length<=0)return-1;const s=o[o.length-1].timestamp-o[0].timestamp;e.Diagnostics._clearMarkers(l);const i=f(u,{context:"initialize",markers:o.slice(),statsigOptions:t});return d.enqueue(i),s}};function v(u,d,l,t){return Object.assign({key:l,action:d,step:t,timestamp:Date.now()},u)}function f(u,d){return{eventName:S,user:u,value:null,metadata:d,time:Date.now()}}function c(u,d){var l;const t=(l=n.get(u))!==null&&l!==void 0?l:[];t.push(d),n.set(u,t)}function h(u,d){if(d in u)return u[d]}},461558:function(D,e){"use strict";var n=this&&this.__awaiter||function(h,u,d,l){function t(o){return o instanceof d?o:new d(function(s){s(o)})}return new(d||(d=Promise))(function(o,s){function i(g){try{_(l.next(g))}catch(y){s(y)}}function r(g){try{_(l.throw(g))}catch(y){s(y)}}function _(g){g.done?o(g.value):t(g.value).then(i,r)}_((l=l.apply(h,u||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e._fetchTxtRecords=void 0;const m=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),a="https://cloudflare-dns.com/dns-query",S=["i","e","d"],v=200;function f(h){return n(this,void 0,void 0,function*(){const u=yield h(a,{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:m});if(!u.ok){const t=new Error("Failed to fetch TXT records from DNS");throw t.name="DnsTxtFetchError",t}const d=yield u.arrayBuffer(),l=new Uint8Array(d);return c(l)})}e._fetchTxtRecords=f;function c(h){const u=h.findIndex((l,t)=>t<v&&String.fromCharCode(l)==="="&&S.includes(String.fromCharCode(h[t-1])));if(u===-1){const l=new Error("Failed to parse TXT records from DNS");throw l.name="DnsTxtParseError",l}let d="";for(let l=u-1;l<h.length;l++)d+=String.fromCharCode(h[l]);return d.split(",")}},240217:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},946991:function(D,e,n){"use strict";var m=this&&this.__awaiter||function(t,o,s,i){function r(_){return _ instanceof s?_:new s(function(g){g(_)})}return new(s||(s=Promise))(function(_,g){function y(p){try{C(i.next(p))}catch(b){g(b)}}function E(p){try{C(i.throw(p))}catch(b){g(b)}}function C(p){p.done?_(p.value):r(p.value).then(y,E)}C((i=i.apply(t,o||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorBoundary=e.EXCEPTION_ENDPOINT=void 0;const a=n(953706),S=n(493254),v=n(302799);e.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";const f="[Statsig] UnknownError";class c{constructor(o,s,i,r){this._sdkKey=o,this._options=s,this._emitter=i,this._lastSeenError=r,this._seen=new Set}wrap(o){try{const s=o;d(s).forEach(i=>{const r=s[i];"$EB"in r||(s[i]=(..._)=>this._capture(i,()=>r.apply(o,_)),s[i].$EB=!0)})}catch(s){this._onError("eb:wrap",s)}}logError(o,s){this._onError(o,s)}getLastSeenErrorAndReset(){const o=this._lastSeenError;return this._lastSeenError=void 0,o!=null?o:null}attachErrorIfNoneExists(o){this._lastSeenError||(this._lastSeenError=h(o))}_capture(o,s){try{const i=s();return i&&i instanceof Promise?i.catch(r=>this._onError(o,r)):i}catch(i){return this._onError(o,i),null}}_onError(o,s){try{a.Log.warn(`Caught error in ${o}`,{error:s}),m(this,void 0,void 0,function*(){var r,_,g,y,E,C,p;const b=s||Error(f),I=b instanceof Error,w=I?b.name:"No Name",U=h(b);if(this._lastSeenError=U,this._seen.has(w))return;if(this._seen.add(w),!((_=(r=this._options)===null||r===void 0?void 0:r.networkConfig)===null||_===void 0)&&_.preventAllNetworkTraffic){(g=this._emitter)===null||g===void 0||g.call(this,{name:"error",error:s,tag:o});return}const P=S.SDKType._get(this._sdkKey),j=v.StatsigMetadataProvider.get(),G=I?b.stack:u(b),B=Object.assign({tag:o,exception:w,info:G,statsigOptions:l(this._options)},Object.assign(Object.assign({},j),{sdkType:P}));yield((C=(E=(y=this._options)===null||y===void 0?void 0:y.networkConfig)===null||E===void 0?void 0:E.networkOverrideFunc)!==null&&C!==void 0?C:fetch)(e.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(P),"STATSIG-SDK-VERSION":String(j.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(B)}),(p=this._emitter)===null||p===void 0||p.call(this,{name:"error",error:s,tag:o})}).then(()=>{}).catch(()=>{})}catch(i){}}}e.ErrorBoundary=c;function h(t){return t instanceof Error?t:typeof t=="string"?new Error(t):new Error("An unknown error occurred.")}function u(t){try{return JSON.stringify(t)}catch(o){return f}}function d(t){const o=new Set;let s=Object.getPrototypeOf(t);for(;s&&s!==Object.prototype;)Object.getOwnPropertyNames(s).filter(i=>typeof(s==null?void 0:s[i])=="function").forEach(i=>o.add(i)),s=Object.getPrototypeOf(s);return Array.from(o)}function l(t){if(!t)return{};const o={};return Object.entries(t).forEach(([s,i])=>{switch(typeof i){case"number":case"bigint":case"boolean":o[String(s)]=i;break;case"string":i.length<50?o[String(s)]=i:o[String(s)]="set";break;case"object":s==="environment"?o.environment=i:s==="networkConfig"?o.networkConfig=i:o[String(s)]=i!=null?"set":"unset";break;default:}}),o}},441087:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},57438:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},945241:function(D,e,n){"use strict";var m=this&&this.__awaiter||function(C,p,b,I){function w(U){return U instanceof b?U:new b(function(P){P(U)})}return new(b||(b=Promise))(function(U,P){function j(N){try{B(I.next(N))}catch(k){P(k)}}function G(N){try{B(I.throw(N))}catch(k){P(k)}}function B(N){N.done?U(N.value):w(N.value).then(j,G)}B((I=I.apply(C,p||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.EventLogger=void 0;const a=n(328694),S=n(732975),v=n(953706),f=n(569011),c=n(562970),h=n(497384),u=n(596838),d=n(476355),l=n(917273),t=100,o=1e4,s=1e3,i=6e5,r=500,_=200,g={},y={Startup:"startup",GainedFocus:"gained_focus"};class E{static _safeFlushAndForget(p){var b;(b=g[p])===null||b===void 0||b.flush().catch(()=>{})}static _safeRetryFailedLogs(p){var b;(b=g[p])===null||b===void 0||b._retryFailedLogs(y.GainedFocus)}constructor(p,b,I,w){var U;this._sdkKey=p,this._emitter=b,this._network=I,this._options=w,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._isLoggingDisabled=(w==null?void 0:w.disableLogging)===!0,this._maxQueueSize=(U=w==null?void 0:w.loggingBufferMaxSize)!==null&&U!==void 0?U:t;const P=w==null?void 0:w.networkConfig;this._logEventUrlConfig=new d.UrlConfiguration(f.Endpoint._rgstr,P==null?void 0:P.logEventUrl,P==null?void 0:P.api,P==null?void 0:P.logEventFallbackUrls)}setLoggingDisabled(p){this._isLoggingDisabled=p}enqueue(p){this._shouldLogEvent(p)&&(this._normalizeAndAppendEvent(p),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&E._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(p){var b;const I=(b=this._nonExposedChecks[p])!==null&&b!==void 0?b:0;this._nonExposedChecks[p]=I+1}reset(){this._lastExposureTimeMap={}}start(){(0,c._isServerEnv)()||(g[this._sdkKey]=this,(0,l._subscribeToVisiblityChanged)(p=>{p==="background"?E._safeFlushAndForget(this._sdkKey):p==="foreground"&&E._safeRetryFailedLogs(this._sdkKey)}),this._retryFailedLogs(y.Startup),this._startBackgroundFlushInterval())}stop(){return m(this,void 0,void 0,function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete g[this._sdkKey],yield this.flush()})}flush(){return m(this,void 0,void 0,function*(){if(this._appendAndResetNonExposedChecks(),this._queue.length===0)return;const p=this._queue;this._queue=[],yield this._sendEvents(p)})}_quickFlushIfNeeded(){this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,!(Date.now()-this._creationTime>_)&&setTimeout(()=>E._safeFlushAndForget(this._sdkKey),_))}_shouldLogEvent(p){if((0,c._isServerEnv)())return!1;if(!(0,h._isExposureEvent)(p))return!0;const b=p.user?p.user:{statsigEnvironment:void 0},I=(0,a._getUserStorageKey)(this._sdkKey,b),w=p.metadata?p.metadata:{},U=[p.eventName,I,w.gate,w.config,w.ruleID,w.allocatedExperiment,w.parameterName,String(w.isExplicitParameter),w.reason].join("|"),P=this._lastExposureTimeMap[U],j=Date.now();return P&&j-P<i?!1:(Object.keys(this._lastExposureTimeMap).length>s&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[U]=j,!0)}_sendEvents(p){var b,I;return m(this,void 0,void 0,function*(){if(this._isLoggingDisabled)return this._saveFailedLogsToStorage(p),!1;try{const U=(0,l._isUnloading)()&&this._network.isBeaconSupported()&&((I=(b=this._options)===null||b===void 0?void 0:b.networkConfig)===null||I===void 0?void 0:I.networkOverrideFunc)==null;return this._emitter({name:"pre_logs_flushed",events:p}),(U?yield this._sendEventsViaBeacon(p):yield this._sendEventsViaPost(p)).success?(this._emitter({name:"logs_flushed",events:p}),!0):(v.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(p),!1)}catch(w){return v.Log.warn("Failed to flush events."),!1}})}_sendEventsViaPost(p){var b;return m(this,void 0,void 0,function*(){const I=yield this._network.post(this._getRequestData(p)),w=(b=I==null?void 0:I.code)!==null&&b!==void 0?b:-1;return{success:w>=200&&w<300}})}_sendEventsViaBeacon(p){return m(this,void 0,void 0,function*(){return{success:yield this._network.beacon(this._getRequestData(p))}})}_getRequestData(p){return{sdkKey:this._sdkKey,data:{events:p},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[f.NetworkParam.EventCount]:String(p.length)}}}_saveFailedLogsToStorage(p){for(;p.length>r;)p.shift();const b=this._getStorageKey();try{(0,u._setObjectInStorage)(b,p)}catch(I){v.Log.warn("Unable to save failed logs to storage")}}_retryFailedLogs(p){const b=this._getStorageKey();m(this,void 0,void 0,function*(){u.Storage.isReady()||(yield u.Storage.isReadyResolver());const I=(0,u._getObjectFromStorage)(b);if(!I)return;p===y.Startup&&u.Storage.removeItem(b),(yield this._sendEvents(I))&&p===y.GainedFocus&&u.Storage.removeItem(b)}).catch(()=>{v.Log.warn("Failed to flush stored logs")})}_getStorageKey(){return`statsig.failed_logs.${(0,S._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(p){p.user&&(p.user=Object.assign({},p.user),delete p.user.privateAttributes);const b={},I=this._getCurrentPageUrl();I&&(b.statsigMetadata={currentPage:I});const w=Object.assign(Object.assign({},p),b);v.Log.debug("Enqueued Event:",w),this._queue.push(w)}_appendAndResetNonExposedChecks(){Object.keys(this._nonExposedChecks).length!==0&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var p;if(((p=this._options)===null||p===void 0?void 0:p.includeCurrentPageUrlWithEvents)!==!1)return(0,c._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var p,b;const I=(b=(p=this._options)===null||p===void 0?void 0:p.loggingIntervalMs)!==null&&b!==void 0?b:o,w=setInterval(()=>{const U=g[this._sdkKey];!U||U._flushIntervalId!==w?clearInterval(w):E._safeFlushAndForget(this._sdkKey)},I);this._flushIntervalId=w}}e.EventLogger=E},732975:function(D,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._getSortedObject=e._DJB2Object=e._DJB2=void 0;const m=n(346226),a=f=>{let c=0;for(let h=0;h<f.length;h++){const u=f.charCodeAt(h);c=(c<<5)-c+u,c=c&c}return String(c>>>0)};e._DJB2=a;const S=(f,c)=>(0,e._DJB2)(JSON.stringify((0,e._getSortedObject)(f,c)));e._DJB2Object=S;const v=(f,c)=>{if(f==null)return null;const h=Object.keys(f).sort(),u={};return h.forEach(d=>{const l=f[d];if(c===0||(0,m._typeOf)(l)!=="object"){u[d]=l;return}u[d]=(0,e._getSortedObject)(l,c!=null?c-1:c)}),u};e._getSortedObject=v},957289:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},953706:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Log=e.LogLevel=void 0;const n=" DEBUG ",m="  INFO ",a="  WARN ",S=" ERROR ";function v(c){return c.unshift("[Statsig]"),c}e.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class f{static info(...h){f.level>=e.LogLevel.Info&&console.info(m,...v(h))}static debug(...h){f.level>=e.LogLevel.Debug&&console.debug(n,...v(h))}static warn(...h){f.level>=e.LogLevel.Warn&&console.warn(a,...v(h))}static error(...h){f.level>=e.LogLevel.Error&&console.error(S,...v(h))}}e.Log=f,f.level=e.LogLevel.Warn},345168:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMemoKey=e.MemoPrefix=void 0,e.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_layer:"l",_paramStore:"p"};const n=new Set([]),m=new Set(["userPersistedValues"]);function a(S,v,f){let c=`${S}|${v}`;if(!f)return c;for(const h of Object.keys(f)){if(m.has(h))return;n.has(h)?c+=`|${h}=true`:c+=`|${h}=${f[h]}`}return c}e.createMemoKey=a},569011:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NetworkParam=e.NetworkDefault=e.Endpoint=void 0,e.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},e.NetworkDefault={[e.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[e.Endpoint._initialize]:"https://featureassets.org/v1",[e.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},e.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}},984102:function(D,e,n){"use strict";var m=this&&this.__awaiter||function(k,O,T,A){function M(R){return R instanceof T?R:new T(function(L){L(R)})}return new(T||(T=Promise))(function(R,L){function X(F){try{V(A.next(F))}catch(K){L(K)}}function J(F){try{V(A.throw(F))}catch(K){L(K)}}function V(F){F.done?R(F.value):M(F.value).then(X,J)}V((A=A.apply(k,O||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.NetworkCore=void 0,n(58260);const a=n(58260),S=n(782917),v=n(953706),f=n(569011),c=n(814756),h=n(489492),u=n(493254),d=n(562970),l=n(392194),t=n(256184),o=n(5484),s=n(302799),i=n(917273),r=1e4,_=500,g=3e4,y=1e3,E=50,C=E/y,p=new Set([408,500,502,503,504,522,524,599]);class b{constructor(O,T){this._emitter=T,this._errorBoundary=null,this._timeout=r,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,O&&(this._options=O),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new c.NetworkFallbackResolver(this._options)}setErrorBoundary(O){this._errorBoundary=O,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(O)}isBeaconSupported(){return typeof navigator!="undefined"&&typeof navigator.sendBeacon=="function"}getLastUsedInitUrlAndReset(){const O=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,O}beacon(O){return m(this,void 0,void 0,function*(){if(!I(O))return!1;const T=this._getInternalRequestArgs("POST",O);yield this._tryToCompressBody(T);const A=yield this._getPopulatedURL(T),M=navigator;return M.sendBeacon.bind(M)(A,T.body)})}post(O){return m(this,void 0,void 0,function*(){const T=this._getInternalRequestArgs("POST",O);return this._tryEncodeBody(T),yield this._tryToCompressBody(T),this._sendRequest(T)})}get(O){const T=this._getInternalRequestArgs("GET",O);return this._sendRequest(T)}_sendRequest(O){var T,A,M,R;return m(this,void 0,void 0,function*(){if(!I(O)||this._netConfig.preventAllNetworkTraffic)return null;const{method:L,body:X,retries:J,attempt:V}=O,F=O.urlConfig.endpoint;if(this._isRateLimited(F))return v.Log.warn(`Request to ${F} was blocked because you are making requests too frequently.`),null;const K=V!=null?V:1,z=typeof AbortController!="undefined"?new AbortController:null,W=setTimeout(()=>{z==null||z.abort(`Timeout of ${this._timeout}ms expired.`)},this._timeout),Q=yield this._getPopulatedURL(O);let $=null;const te=(0,i._isUnloading)();try{const x={method:L,body:X,headers:Object.assign({},O.headers),signal:z==null?void 0:z.signal,priority:O.priority,keepalive:te};G(O,K);const H=this._leakyBucket[F];if(H&&(H.lastRequestTime=Date.now(),this._leakyBucket[F]=H),$=yield((T=this._netConfig.networkOverrideFunc)!==null&&T!==void 0?T:fetch)(Q,x),clearTimeout(W),!$.ok){const Y=yield $.text().catch(()=>"No Text"),ee=new Error(`NetworkError: ${Q} ${Y}`);throw ee.name="NetworkError",ee}const Z=yield $.text();return B(O,$,K,Z),this._fallbackResolver.tryBumpExpiryTime(O.sdkKey,O.urlConfig),{body:Z,code:$.status}}catch(x){const H=P(z,x),q=j(z);if(B(O,$,K,"",x),(yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(O.sdkKey,O.urlConfig,H,q))&&(O.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(O.sdkKey,O.urlConfig)),!J||K>J||!p.has((A=$==null?void 0:$.status)!==null&&A!==void 0?A:500)){(M=this._emitter)===null||M===void 0||M.call(this,{name:"error",error:x,tag:o.ErrorTag.NetworkError,requestArgs:O});const Y=`A networking error occurred during ${L} request to ${Q}.`;return v.Log.error(Y,H,x),(R=this._errorBoundary)===null||R===void 0||R.attachErrorIfNoneExists(Y),null}return yield N(K),this._sendRequest(Object.assign(Object.assign({},O),{retries:J,attempt:K+1}))}})}_isRateLimited(O){var T;const A=Date.now(),M=(T=this._leakyBucket[O])!==null&&T!==void 0?T:{count:0,lastRequestTime:A},R=A-M.lastRequestTime,L=Math.floor(R*C);return M.count=Math.max(0,M.count-L),M.count>=E?!0:(M.count+=1,M.lastRequestTime=A,this._leakyBucket[O]=M,!1)}_getPopulatedURL(O){var T;return m(this,void 0,void 0,function*(){const A=(T=O.fallbackUrl)!==null&&T!==void 0?T:O.urlConfig.getUrl();(O.urlConfig.endpoint===f.Endpoint._initialize||O.urlConfig.endpoint===f.Endpoint._download_config_specs)&&(this._lastUsedInitUrl=A);const M=Object.assign({[f.NetworkParam.SdkKey]:O.sdkKey,[f.NetworkParam.SdkType]:u.SDKType._get(O.sdkKey),[f.NetworkParam.SdkVersion]:s.SDK_VERSION,[f.NetworkParam.Time]:String(Date.now()),[f.NetworkParam.SessionID]:l.SessionID.get(O.sdkKey)},O.params),R=Object.keys(M).map(L=>`${encodeURIComponent(L)}=${encodeURIComponent(M[L])}`).join("&");return`${A}${R?`?${R}`:""}`})}_tryEncodeBody(O){var T;const A=(0,d._getWindowSafe)(),M=O.body;if(!(!O.isStatsigEncodable||this._options.disableStatsigEncoding||typeof M!="string"||(0,a._getStatsigGlobalFlag)("no-encode")!=null||!(A!=null&&A.btoa)))try{O.body=A.btoa(M).split("").reverse().join(""),O.params=Object.assign(Object.assign({},(T=O.params)!==null&&T!==void 0?T:{}),{[f.NetworkParam.StatsigEncoded]:"1"})}catch(R){v.Log.warn(`Request encoding failed for ${O.urlConfig.getUrl()}`,R)}}_tryToCompressBody(O){var T;return m(this,void 0,void 0,function*(){const A=O.body;if(!(typeof A!="string"||!U(O,this._options)))try{const M=new TextEncoder().encode(A),R=new CompressionStream("gzip"),L=R.writable.getWriter();L.write(M).catch(v.Log.error),L.close().catch(v.Log.error);const X=R.readable.getReader(),J=[];let V;for(;!(V=yield X.read()).done;)J.push(V.value);const F=J.reduce((W,Q)=>W+Q.length,0),K=new Uint8Array(F);let z=0;for(const W of J)K.set(W,z),z+=W.length;O.body=K,O.params=Object.assign(Object.assign({},(T=O.params)!==null&&T!==void 0?T:{}),{[f.NetworkParam.IsGzipped]:"1"})}catch(M){v.Log.warn(`Request compression failed for ${O.urlConfig.getUrl()}`,M)}})}_getInternalRequestArgs(O,T){const A=this._fallbackResolver.getActiveFallbackUrl(T.sdkKey,T.urlConfig),M=Object.assign(Object.assign({},T),{method:O,fallbackUrl:A});return"data"in T&&w(M,T.data),M}}e.NetworkCore=b;const I=k=>k.sdkKey?!0:(v.Log.warn("Unable to make request without an SDK key"),!1),w=(k,O)=>{const{sdkKey:T,fallbackUrl:A}=k,M=t.StableID.get(T),R=l.SessionID.get(T),L=u.SDKType._get(T);k.body=JSON.stringify(Object.assign(Object.assign({},O),{statsigMetadata:Object.assign(Object.assign({},s.StatsigMetadataProvider.get()),{stableID:M,sessionID:R,sdkType:L,fallbackUrl:A})}))};function U(k,O){return!(!k.isCompressable||O.disableCompression||(k.urlConfig.customUrl!=null||k.urlConfig.fallbackUrls!=null)&&h.SDKFlags.get(k.sdkKey,"enable_log_event_compression")!==!0||(0,a._getStatsigGlobalFlag)("no-compress")!=null||typeof CompressionStream=="undefined"||typeof TextEncoder=="undefined")}function P(k,O){return k!=null&&k.signal.aborted&&typeof k.signal.reason=="string"?k.signal.reason:typeof O=="string"?O:O instanceof Error?`${O.name}: ${O.message}`:"Unknown Error"}function j(k){return(k==null?void 0:k.signal.aborted)&&typeof k.signal.reason=="string"&&k.signal.reason.includes("Timeout")||!1}function G(k,O){k.urlConfig.endpoint===f.Endpoint._initialize&&S.Diagnostics._markInitNetworkReqStart(k.sdkKey,{attempt:O})}function B(k,O,T,A,M){k.urlConfig.endpoint===f.Endpoint._initialize&&S.Diagnostics._markInitNetworkReqEnd(k.sdkKey,S.Diagnostics._getDiagnosticsData(O,T,A,M))}function N(k){return m(this,void 0,void 0,function*(){yield new Promise(O=>setTimeout(O,Math.min(_*(k*k),g)))})}},814756:function(D,e,n){"use strict";var m=this&&this.__awaiter||function(i,r,_,g){function y(E){return E instanceof _?E:new _(function(C){C(E)})}return new(_||(_=Promise))(function(E,C){function p(w){try{I(g.next(w))}catch(U){C(U)}}function b(w){try{I(g.throw(w))}catch(U){C(U)}}function I(w){w.done?E(w.value):y(w.value).then(p,b)}I((g=g.apply(i,r||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e._isDomainFailure=e.NetworkFallbackResolver=void 0;const a=n(461558),S=n(732975),v=n(953706),f=n(596838),c=7*24*60*60*1e3,h=4*60*60*1e3;class u{constructor(r){var _;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=(_=r.networkConfig)===null||_===void 0?void 0:_.networkOverrideFunc}setErrorBoundary(r){this._errorBoundary=r}tryBumpExpiryTime(r,_){var g;const y=(g=this._fallbackInfo)===null||g===void 0?void 0:g[_.endpoint];y&&(y.expiryTime=Date.now()+c,t(r,Object.assign(Object.assign({},this._fallbackInfo),{[_.endpoint]:y})))}getActiveFallbackUrl(r,_){var g,y;if(_.customUrl!=null&&_.fallbackUrls!=null)return null;let E=this._fallbackInfo;E==null&&(E=(g=o(r))!==null&&g!==void 0?g:{},this._fallbackInfo=E);const C=E[_.endpoint];return!C||Date.now()>((y=C.expiryTime)!==null&&y!==void 0?y:0)||_.getChecksum()!==C.urlConfigChecksum?(delete E[_.endpoint],this._fallbackInfo=E,t(r,this._fallbackInfo),null):C.url?C.url:null}tryFetchUpdatedFallbackInfo(r,_,g,y){var E,C;return m(this,void 0,void 0,function*(){try{if(!d(g,y))return!1;const b=_.customUrl==null&&_.fallbackUrls==null?yield this._tryFetchFallbackUrlsFromNetwork(_):_.fallbackUrls,I=this._pickNewFallbackUrl((E=this._fallbackInfo)===null||E===void 0?void 0:E[_.endpoint],b);return I?(this._updateFallbackInfoWithNewUrl(r,_,I),!0):!1}catch(p){return(C=this._errorBoundary)===null||C===void 0||C.logError("tryFetchUpdatedFallbackInfo",p),!1}})}_updateFallbackInfoWithNewUrl(r,_,g){var y,E,C;const p={urlConfigChecksum:_.getChecksum(),url:g,expiryTime:Date.now()+c,previous:[]},b=_.endpoint,I=(y=this._fallbackInfo)===null||y===void 0?void 0:y[b];I&&p.previous.push(...I.previous),p.previous.length>10&&(p.previous=[]);const w=(C=(E=this._fallbackInfo)===null||E===void 0?void 0:E[b])===null||C===void 0?void 0:C.url;w!=null&&p.previous.push(w),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[b]:p}),t(r,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(r){var _;return m(this,void 0,void 0,function*(){const g=this._dnsQueryCooldowns[r.endpoint];if(g&&Date.now()<g)return null;this._dnsQueryCooldowns[r.endpoint]=Date.now()+h;const y=[],E=yield(0,a._fetchTxtRecords)((_=this._networkOverrideFunc)!==null&&_!==void 0?_:fetch),C=s(r.defaultUrl);for(const p of E){if(!p.startsWith(r.endpointDnsKey+"="))continue;const b=p.split("=");if(b.length>1){let I=b[1];I.endsWith("/")&&(I=I.slice(0,-1)),y.push(`https://${I}${C}`)}}return y})}_pickNewFallbackUrl(r,_){var g;if(_==null)return null;const y=new Set((g=r==null?void 0:r.previous)!==null&&g!==void 0?g:[]),E=r==null?void 0:r.url;let C=null;for(const p of _){const b=p.endsWith("/")?p.slice(0,-1):p;if(!y.has(p)&&b!==E){C=b;break}}return C}}e.NetworkFallbackResolver=u;function d(i,r){var _;const g=(_=i==null?void 0:i.toLowerCase())!==null&&_!==void 0?_:"";return r||g.includes("uncaught exception")||g.includes("failed to fetch")||g.includes("networkerror when attempting to fetch resource")}e._isDomainFailure=d;function l(i){return`statsig.network_fallback.${(0,S._DJB2)(i)}`}function t(i,r){const _=l(i);if(!r||Object.keys(r).length===0){f.Storage.removeItem(_);return}f.Storage.setItem(_,JSON.stringify(r))}function o(i){const r=l(i),_=f.Storage.getItem(r);if(!_)return null;try{return JSON.parse(_)}catch(g){return v.Log.error("Failed to parse FallbackInfo"),null}}function s(i){try{return new URL(i).pathname}catch(r){return null}}},905301:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},102069:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},489492:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDKFlags=void 0;const n={};e.SDKFlags={setFlags:(m,a)=>{n[m]=a},get:(m,a)=>{var S,v;return(v=(S=n[m])===null||S===void 0?void 0:S[a])!==null&&v!==void 0?v:!1}}},493254:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDKType=void 0;const n={};let m;e.SDKType={_get:a=>{var S;return((S=n[a])!==null&&S!==void 0?S:"js-mono")+(m!=null?m:"")},_setClientType(a,S){n[a]=S},_setBindingType(a){(!m||m==="-react")&&(m="-"+a)}}},562970:function(D,e,n){"use strict";var m=n(760636);Object.defineProperty(e,"__esModule",{value:!0}),e._getUnloadEvent=e._getCurrentPageUrlSafe=e._addDocumentEventListenerSafe=e._addWindowEventListenerSafe=e._isServerEnv=e._getDocumentSafe=e._getWindowSafe=void 0;const a=()=>typeof window!="undefined"?window:null;e._getWindowSafe=a;const S=()=>{var d;const l=(0,e._getWindowSafe)();return(d=l==null?void 0:l.document)!==null&&d!==void 0?d:null};e._getDocumentSafe=S;const v=()=>{if((0,e._getDocumentSafe)()!==null)return!1;const d=typeof m!="undefined"&&m.versions!=null&&m.versions.node!=null;return typeof EdgeRuntime=="string"||d};e._isServerEnv=v;const f=(d,l)=>{const t=(0,e._getWindowSafe)();typeof(t==null?void 0:t.addEventListener)=="function"&&t.addEventListener(d,l)};e._addWindowEventListenerSafe=f;const c=(d,l)=>{const t=(0,e._getDocumentSafe)();typeof(t==null?void 0:t.addEventListener)=="function"&&t.addEventListener(d,l)};e._addDocumentEventListenerSafe=c;const h=()=>{var d;try{return(d=(0,e._getWindowSafe)())===null||d===void 0?void 0:d.location.href.split(/[?#]/)[0]}catch(l){return}};e._getCurrentPageUrlSafe=h;const u=()=>{const d=(0,e._getWindowSafe)();return d&&"onpagehide"in d?"pagehide":"beforeunload"};e._getUnloadEvent=u},392194:function(D,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigSession=e.SessionID=void 0;const m=n(328694),a=n(953706),S=n(596838),v=n(541982),f=30*60*1e3,c=4*60*60*1e3,h={};e.SessionID={get:g=>e.StatsigSession.get(g).data.sessionID},e.StatsigSession={get:g=>{h[g]==null&&(h[g]=u(g));const y=h[g];return l(y)},overrideInitialSessionID:(g,y)=>{h[y]=d(g,y)}};function u(g){let y=_(g);const E=Date.now();return y||(y={sessionID:(0,v.getUUID)(),startTime:E,lastUpdate:E}),{data:y,sdkKey:g}}function d(g,y){const E=Date.now();return{data:{sessionID:g,startTime:E,lastUpdate:E},sdkKey:y}}function l(g){const y=Date.now(),E=g.data;(o(E)||s(E))&&(E.sessionID=(0,v.getUUID)(),E.startTime=y),E.lastUpdate=y,r(E,g.sdkKey),clearTimeout(g.idleTimeoutID),clearTimeout(g.ageTimeoutID);const C=y-E.startTime,p=g.sdkKey;return g.idleTimeoutID=t(p,f),g.ageTimeoutID=t(p,c-C),g}function t(g,y){return setTimeout(()=>{const E=__STATSIG__==null?void 0:__STATSIG__.instance(g);E&&E.$emt({name:"session_expired"})},y)}function o({lastUpdate:g}){return Date.now()-g>f}function s({startTime:g}){return Date.now()-g>c}function i(g){return`statsig.session_id.${(0,m._getStorageKey)(g)}`}function r(g,y){const E=i(y);try{(0,S._setObjectInStorage)(E,g)}catch(C){a.Log.warn("Failed to save SessionID")}}function _(g){const y=i(g);return(0,S._getObjectFromStorage)(y)}},256184:function(D,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableID=void 0;const m=n(328694),a=n(953706),S=n(596838),v=n(541982),f={};e.StableID={get:d=>{if(f[d]==null){let l=u(d);l==null&&(l=(0,v.getUUID)(),h(l,d)),f[d]=l}return f[d]},setOverride:(d,l)=>{f[l]=d,h(d,l)}};function c(d){return`statsig.stable_id.${(0,m._getStorageKey)(d)}`}function h(d,l){const t=c(l);try{(0,S._setObjectInStorage)(t,d)}catch(o){a.Log.warn("Failed to save StableID")}}function u(d){const l=c(d);return(0,S._getObjectFromStorage)(l)}},342927:function(D,e,n){"use strict";var m=this&&this.__awaiter||function(s,i,r,_){function g(y){return y instanceof r?y:new r(function(E){E(y)})}return new(r||(r=Promise))(function(y,E){function C(I){try{b(_.next(I))}catch(w){E(w)}}function p(I){try{b(_.throw(I))}catch(w){E(w)}}function b(I){I.done?y(I.value):g(I.value).then(C,p)}b((_=_.apply(s,i||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClientBase=void 0,n(58260);const a=n(58260),S=n(946991),v=n(945241),f=n(953706),c=n(345168),h=n(562970),u=n(392194),d=n(596838),l=3e3;class t{constructor(i,r,_,g){var y;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};const E=this.$emt.bind(this);(g==null?void 0:g.logLevel)!=null&&(f.Log.level=g.logLevel),g!=null&&g.disableStorage&&d.Storage._setDisabled(!0),g!=null&&g.initialSessionID&&u.StatsigSession.overrideInitialSessionID(g.initialSessionID,i),g!=null&&g.storageProvider&&d.Storage._setProvider(g.storageProvider),this._sdkKey=i,this._options=g!=null?g:{},this._memoCache={},this.overrideAdapter=(y=g==null?void 0:g.overrideAdapter)!==null&&y!==void 0?y:null,this._logger=new v.EventLogger(i,E,_,g),this._errorBoundary=new S.ErrorBoundary(i,g,E),this._errorBoundary.wrap(this),this._errorBoundary.wrap(r),this._errorBoundary.wrap(this._logger),_.setErrorBoundary(this._errorBoundary),this.dataAdapter=r,this.dataAdapter.attach(i,g,_),this.storageProvider=d.Storage,this._primeReadyRipcord(),o(i,this)}updateRuntimeOptions(i){i.disableLogging!=null&&(this._options.disableLogging=i.disableLogging,this._logger.setLoggingDisabled(i.disableLogging)),i.disableStorage!=null&&(this._options.disableStorage=i.disableStorage,d.Storage._setDisabled(i.disableStorage))}flush(){return this._logger.flush()}shutdown(){return m(this,void 0,void 0,function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()})}on(i,r){this._listeners[i]||(this._listeners[i]=[]),this._listeners[i].push(r)}off(i,r){if(this._listeners[i]){const _=this._listeners[i].indexOf(r);_!==-1&&this._listeners[i].splice(_,1)}}$on(i,r){r.__isInternal=!0,this.on(i,r)}$emt(i){var r;const _=g=>{try{g(i)}catch(y){if(g.__isInternal===!0){this._errorBoundary.logError(`__emit:${i.name}`,y);return}f.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",i)}};this._listeners[i.name]&&this._listeners[i.name].forEach(g=>_(g)),(r=this._listeners["*"])===null||r===void 0||r.forEach(_)}_setStatus(i,r){this.loadingStatus=i,this._memoCache={},this.$emt({name:"values_updated",status:i,values:r})}_enqueueExposure(i,r,_){if((_==null?void 0:_.disableExposureLog)===!0){this._logger.incrementNonExposureCount(i);return}this._logger.enqueue(r)}_memoize(i,r){return(_,g)=>{if(this._options.disableEvaluationMemoization)return r(_,g);const y=(0,c.createMemoKey)(i,_,g);return y?(y in this._memoCache||(Object.keys(this._memoCache).length>=l&&(this._memoCache={}),this._memoCache[y]=r(_,g)),this._memoCache[y]):r(_,g)}}}e.StatsigClientBase=t;function o(s,i){var r;if((0,h._isServerEnv)())return;const _=(0,a._getStatsigGlobal)(),g=(r=_.instances)!==null&&r!==void 0?r:{},y=i;g[s]!=null&&f.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys."),g[s]=y,_.firstInstance||(_.firstInstance=y),_.instances=g,__STATSIG__=_}},5484:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorTag=void 0,e.ErrorTag={NetworkError:"NetworkError"}},878776:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataAdapterCachePrefix=void 0,e.DataAdapterCachePrefix="statsig.cached"},497384:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._createLayerParameterExposure=e._createConfigExposure=e._mapExposures=e._createGateExposure=e._isExposureEvent=void 0;const n="statsig::config_exposure",m="statsig::gate_exposure",a="statsig::layer_exposure",S=(l,t,o,s,i)=>(o.bootstrapMetadata&&(s.bootstrapMetadata=o.bootstrapMetadata),{eventName:l,user:t,value:null,metadata:d(o,s),secondaryExposures:i,time:Date.now()}),v=({eventName:l})=>l===m||l===n||l===a;e._isExposureEvent=v;const f=(l,t,o)=>{var s,i,r;const _={gate:t.name,gateValue:String(t.value),ruleID:t.ruleID};return((s=t.__evaluation)===null||s===void 0?void 0:s.version)!=null&&(_.configVersion=t.__evaluation.version),S(m,l,t.details,_,c((r=(i=t.__evaluation)===null||i===void 0?void 0:i.secondary_exposures)!==null&&r!==void 0?r:[],o))};e._createGateExposure=f;function c(l,t){return l.map(o=>typeof o=="string"?(t!=null?t:{})[o]:o).filter(o=>o!=null)}e._mapExposures=c;const h=(l,t,o)=>{var s,i,r,_;const g={config:t.name,ruleID:t.ruleID};return((s=t.__evaluation)===null||s===void 0?void 0:s.version)!=null&&(g.configVersion=t.__evaluation.version),((i=t.__evaluation)===null||i===void 0?void 0:i.passed)!=null&&(g.rulePassed=String(t.__evaluation.passed)),S(n,l,t.details,g,c((_=(r=t.__evaluation)===null||r===void 0?void 0:r.secondary_exposures)!==null&&_!==void 0?_:[],o))};e._createConfigExposure=h;const u=(l,t,o,s)=>{var i,r,_,g;const y=t.__evaluation,E=((i=y==null?void 0:y.explicit_parameters)===null||i===void 0?void 0:i.includes(o))===!0;let C="",p=(r=y==null?void 0:y.undelegated_secondary_exposures)!==null&&r!==void 0?r:[];E&&(C=(_=y.allocated_experiment_name)!==null&&_!==void 0?_:"",p=y.secondary_exposures);const b={config:t.name,parameterName:o,ruleID:t.ruleID,allocatedExperiment:C,isExplicitParameter:String(E)};return((g=t.__evaluation)===null||g===void 0?void 0:g.version)!=null&&(b.configVersion=t.__evaluation.version),S(a,l,t.details,b,c(p,s))};e._createLayerParameterExposure=u;const d=(l,t)=>(t.reason=l.reason,l.lcut&&(t.lcut=String(l.lcut)),l.receivedAt&&(t.receivedAt=String(l.receivedAt)),t)},302799:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigMetadataProvider=e.SDK_VERSION=void 0,e.SDK_VERSION="3.14.1";let n={sdkVersion:e.SDK_VERSION,sdkType:"js-mono"};e.StatsigMetadataProvider={get:()=>n,add:m=>{n=Object.assign(Object.assign({},n),m)}}},541197:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},711850:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},175109:function(D,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._makeTypedGet=e._mergeOverride=e._makeLayer=e._makeExperiment=e._makeDynamicConfig=e._makeFeatureGate=void 0;const m=n(953706),a=n(346226),S="default";function v(t,o,s,i){var r;return{name:t,details:o,ruleID:(r=s==null?void 0:s.rule_id)!==null&&r!==void 0?r:S,__evaluation:s,value:i}}function f(t,o,s){return v(t,o,s,(s==null?void 0:s.value)===!0)}e._makeFeatureGate=f;function c(t,o,s){var i;const r=(i=s==null?void 0:s.value)!==null&&i!==void 0?i:{};return Object.assign(Object.assign({},v(t,o,s,r)),{get:l(t,s==null?void 0:s.value)})}e._makeDynamicConfig=c;function h(t,o,s){var i;const r=c(t,o,s);return Object.assign(Object.assign({},r),{groupName:(i=s==null?void 0:s.group_name)!==null&&i!==void 0?i:null})}e._makeExperiment=h;function u(t,o,s,i){var r,_;return Object.assign(Object.assign({},v(t,o,s,void 0)),{get:l(t,s==null?void 0:s.value,i),groupName:(r=s==null?void 0:s.group_name)!==null&&r!==void 0?r:null,__value:(_=s==null?void 0:s.value)!==null&&_!==void 0?_:{}})}e._makeLayer=u;function d(t,o,s,i){return Object.assign(Object.assign(Object.assign({},t),o),{get:l(t.name,s,i)})}e._mergeOverride=d;function l(t,o,s){return(i,r)=>{var _;const g=(_=o==null?void 0:o[i])!==null&&_!==void 0?_:null;return g==null?r!=null?r:null:r!=null&&!(0,a._isTypeMatch)(g,r)?(m.Log.warn(`Parameter type mismatch. '${t}.${i}' was found to be type '${typeof g}' but fallback/return type is '${typeof r}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),r!=null?r:null):(s==null||s(i),g)}}e._makeTypedGet=l},534294:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},432876:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UPDATE_DETAIL_ERROR_MESSAGES=e.createUpdateDetails=void 0;const n=(m,a,S,v,f,c)=>({duration:S,source:a,success:m,error:v,sourceUrl:f,warnings:c});e.createUpdateDetails=n,e.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}},893011:function(D,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._getFullUserHash=e._normalizeUser=void 0;const m=n(732975),a=n(953706);function S(f,c,h){try{const u=JSON.parse(JSON.stringify(f));return c!=null&&c.environment!=null?u.statsigEnvironment=c.environment:h!=null&&(u.statsigEnvironment={tier:h}),u}catch(u){return a.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}}e._normalizeUser=S;function v(f){return f?(0,m._DJB2Object)(f):null}e._getFullUserHash=v},596838:function(D,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._setObjectInStorage=e._getObjectFromStorage=e.Storage=void 0;const m=n(953706),a=n(562970),S={},v={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:t=>S[t]?S[t]:null,setItem:(t,o)=>{S[t]=o},removeItem:t=>{delete S[t]},getAllKeys:()=>Object.keys(S)};let f=null;try{const t=(0,a._getWindowSafe)();t&&t.localStorage&&typeof t.localStorage.getItem=="function"&&(f={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:o=>t.localStorage.getItem(o),setItem:(o,s)=>t.localStorage.setItem(o,s),removeItem:o=>t.localStorage.removeItem(o),getAllKeys:()=>Object.keys(t.localStorage)})}catch(t){m.Log.warn("Failed to setup localStorageProvider.")}let c=f!=null?f:v,h=c;function u(t){try{return t()}catch(o){if(o instanceof Error&&o.name==="SecurityError")return e.Storage._setProvider(v),null;throw o}}e.Storage={isReady:()=>h.isReady(),isReadyResolver:()=>h.isReadyResolver(),getProviderName:()=>h.getProviderName(),getItem:t=>u(()=>h.getItem(t)),setItem:(t,o)=>h.setItem(t,o),removeItem:t=>h.removeItem(t),getAllKeys:()=>h.getAllKeys(),_setProvider:t=>{c=t,h=t},_setDisabled:t=>{t?h=v:h=c}};function d(t){const o=e.Storage.getItem(t);return JSON.parse(o!=null?o:"null")}e._getObjectFromStorage=d;function l(t,o){e.Storage.setItem(t,JSON.stringify(o))}e._setObjectInStorage=l},989087:function(D,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._typedJsonParse=void 0;const m=n(953706);function a(S,v,f){try{const c=JSON.parse(S);if(c&&typeof c=="object"&&v in c)return c}catch(c){}return m.Log.error(`Failed to parse ${f}`),null}e._typedJsonParse=a},346226:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._isTypeMatch=e._typeOf=void 0;function n(a){return Array.isArray(a)?"array":typeof a}e._typeOf=n;function m(a,S){const v=f=>Array.isArray(f)?"array":typeof f;return v(a)===v(S)}e._isTypeMatch=m},541982:function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUUID=void 0;function n(){if(typeof crypto!="undefined"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let m=new Date().getTime(),a=typeof performance!="undefined"&&performance.now&&performance.now()*1e3||0;return`xxxxxxxx-xxxx-4xxx-${"89ab"[Math.floor(Math.random()*4)]}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,v=>{let f=Math.random()*16;return m>0?(f=(m+f)%16|0,m=Math.floor(m/16)):(f=(a+f)%16|0,a=Math.floor(a/16)),(v==="x"?f:f&7|8).toString(16)})}e.getUUID=n},476355:function(D,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UrlConfiguration=void 0;const m=n(732975),a=n(569011),S={[a.Endpoint._initialize]:"i",[a.Endpoint._rgstr]:"e",[a.Endpoint._download_config_specs]:"d"};class v{constructor(c,h,u,d){this.customUrl=null,this.fallbackUrls=null,this.endpoint=c,this.endpointDnsKey=S[c],h&&(this.customUrl=h),!h&&u&&(this.customUrl=u.endsWith("/")?`${u}${c}`:`${u}/${c}`),d&&(this.fallbackUrls=d);const l=a.NetworkDefault[c];this.defaultUrl=`${l}/${c}`}getUrl(){var c;return(c=this.customUrl)!==null&&c!==void 0?c:this.defaultUrl}getChecksum(){var c;const h=((c=this.fallbackUrls)!==null&&c!==void 0?c:[]).sort().join(",");return(0,m._DJB2)(this.customUrl+h)}}e.UrlConfiguration=v},917273:function(D,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._notifyVisibilityChanged=e._subscribeToVisiblityChanged=e._isUnloading=e._isCurrentlyVisible=void 0;const m=n(562970),a="foreground",S="background",v=[];let f=a,c=!1;const h=()=>f===a;e._isCurrentlyVisible=h;const u=()=>c;e._isUnloading=u;const d=t=>{v.unshift(t)};e._subscribeToVisiblityChanged=d;const l=t=>{t!==f&&(f=t,v.forEach(o=>o(t)))};e._notifyVisibilityChanged=l,(0,m._addWindowEventListenerSafe)("focus",()=>{c=!1,(0,e._notifyVisibilityChanged)(a)}),(0,m._addWindowEventListenerSafe)("blur",()=>(0,e._notifyVisibilityChanged)(S)),(0,m._addDocumentEventListenerSafe)("visibilitychange",()=>{(0,e._notifyVisibilityChanged)(document.visibilityState==="visible"?a:S)}),(0,m._addWindowEventListenerSafe)((0,m._getUnloadEvent)(),()=>{c=!0,(0,e._notifyVisibilityChanged)(S)})},675299:function(D,e,n){"use strict";var m=this&&this.__createBinding||(Object.create?function(u,d,l,t){t===void 0&&(t=l);var o=Object.getOwnPropertyDescriptor(d,l);(!o||("get"in o?!d.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return d[l]}}),Object.defineProperty(u,t,o)}:function(u,d,l,t){t===void 0&&(t=l),u[t]=d[l]}),a=this&&this.__exportStar||function(u,d){for(var l in u)l!=="default"&&!Object.prototype.hasOwnProperty.call(d,l)&&m(d,u,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=e.Log=e.EventLogger=e.Diagnostics=void 0,n(58260);const S=n(782917);Object.defineProperty(e,"Diagnostics",{enumerable:!0,get:function(){return S.Diagnostics}});const v=n(945241);Object.defineProperty(e,"EventLogger",{enumerable:!0,get:function(){return v.EventLogger}});const f=n(953706);Object.defineProperty(e,"Log",{enumerable:!0,get:function(){return f.Log}});const c=n(302799),h=n(596838);Object.defineProperty(e,"Storage",{enumerable:!0,get:function(){return h.Storage}}),a(n(58260),e),a(n(328694),e),a(n(292889),e),a(n(554282),e),a(n(782917),e),a(n(240217),e),a(n(946991),e),a(n(441087),e),a(n(57438),e),a(n(732975),e),a(n(957289),e),a(n(953706),e),a(n(345168),e),a(n(569011),e),a(n(984102),e),a(n(905301),e),a(n(102069),e),a(n(562970),e),a(n(493254),e),a(n(392194),e),a(n(256184),e),a(n(342927),e),a(n(5484),e),a(n(878776),e),a(n(497384),e),a(n(302799),e),a(n(541197),e),a(n(711850),e),a(n(175109),e),a(n(534294),e),a(n(893011),e),a(n(596838),e),a(n(989087),e),a(n(346226),e),a(n(476355),e),a(n(541982),e),a(n(917273),e),a(n(432876),e),a(n(489492),e),__STATSIG__=Object.assign(Object.assign({},__STATSIG__!=null?__STATSIG__:{}),{Log:f.Log,SDK_VERSION:c.SDK_VERSION})},976970:function(D,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._resolveDeltasResponse=void 0;const m=n(675299),a=2;function S(h,u){const d=(0,m._typedJsonParse)(u,"checksum","DeltasEvaluationResponse");if(!d)return{hadBadDeltaChecksum:!0};const l=v(h,d),t=f(l),o=(0,m._DJB2Object)({feature_gates:t.feature_gates,dynamic_configs:t.dynamic_configs,layer_configs:t.layer_configs},a);return o===d.checksumV2?JSON.stringify(t):{hadBadDeltaChecksum:!0,badChecksum:o,badMergedConfigs:t,badFullResponse:d.deltas_full_response}}e._resolveDeltasResponse=S;function v(h,u){return Object.assign(Object.assign(Object.assign({},h),u),{feature_gates:Object.assign(Object.assign({},h.feature_gates),u.feature_gates),layer_configs:Object.assign(Object.assign({},h.layer_configs),u.layer_configs),dynamic_configs:Object.assign(Object.assign({},h.dynamic_configs),u.dynamic_configs)})}function f(h){const u=h;return c(h.deleted_gates,u.feature_gates),delete u.deleted_gates,c(h.deleted_configs,u.dynamic_configs),delete u.deleted_configs,c(h.deleted_layers,u.layer_configs),delete u.deleted_layers,u}function c(h,u){h==null||h.forEach(d=>{delete u[d]})}},389811:function(D,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const m=n(675299);class a{constructor(v){this._sdkKey=v,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,m._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(v,f){var c;if(!v)return!1;const h=(0,m._typedJsonParse)(v.data,"has_updates","EvaluationResponse");return h==null?!1:(this._source=v.source,(h==null?void 0:h.has_updates)!==!0||(this._rawValues=v.data,this._lcut=h.time,this._receivedAt=v.receivedAt,this._values=h,this._bootstrapMetadata=this._extractBootstrapMetadata(v.source,h),v.source&&h.user&&this._setWarningState(f,h),m.SDKFlags.setFlags(this._sdkKey,(c=h.sdk_flags)!==null&&c!==void 0?c:{})),!0)}getWarnings(){if(this._warnings.size!==0)return Array.from(this._warnings)}getGate(v){var f;return this._getDetailedStoreResult((f=this._values)===null||f===void 0?void 0:f.feature_gates,v)}getConfig(v){var f;return this._getDetailedStoreResult((f=this._values)===null||f===void 0?void 0:f.dynamic_configs,v)}getLayer(v){var f;return this._getDetailedStoreResult((f=this._values)===null||f===void 0?void 0:f.layer_configs,v)}getParamStore(v){var f;return this._getDetailedStoreResult((f=this._values)===null||f===void 0?void 0:f.param_stores,v)}getSource(){return this._source}getExposureMapping(){var v;return(v=this._values)===null||v===void 0?void 0:v.exposures}_extractBootstrapMetadata(v,f){if(v!=="Bootstrap")return null;const c={};return f.user&&(c.user=f.user),f.sdkInfo&&(c.generatorSDKInfo=f.sdkInfo),c.lcut=f.time,c}_getDetailedStoreResult(v,f){let c=null;return v&&(c=v[f]?v[f]:v[(0,m._DJB2)(f)]),{result:c,details:this._getDetails(c==null)}}_setWarningState(v,f){var c;const h=m.StableID.get(this._sdkKey);if(((c=v.customIDs)===null||c===void 0?void 0:c.stableID)!==h){this._warnings.add("StableIDMismatch");return}if("user"in f){const u=f.user;(0,m._getFullUserHash)(v)!==(0,m._getFullUserHash)(u)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if(this._source==="Uninitialized"||this._source==="NoValues")return{reason:this._source};const v={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(v.warnings=Array.from(this._warnings)),v}_getDetails(v){var f,c;const h=this.getCurrentSourceDetails();let u=h.reason;const d=(f=h.warnings)!==null&&f!==void 0?f:[];this._source==="Bootstrap"&&d.length>0&&(u=u+d[0]),u!=="Uninitialized"&&u!=="NoValues"&&(u=`${u}:${v?"Unrecognized":"Recognized"}`);const l=this._source==="Bootstrap"&&(c=this._bootstrapMetadata)!==null&&c!==void 0?c:void 0;return l&&(h.bootstrapMetadata=l),Object.assign(Object.assign({},h),{reason:u})}}e.default=a},567587:function(D,e,n){"use strict";var m=this&&this.__awaiter||function(f,c,h,u){function d(l){return l instanceof h?l:new h(function(t){t(l)})}return new(h||(h=Promise))(function(l,t){function o(r){try{i(u.next(r))}catch(_){t(_)}}function s(r){try{i(u.throw(r))}catch(_){t(_)}}function i(r){r.done?l(r.value):d(r.value).then(o,s)}i((u=u.apply(f,c||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const a=n(675299),S=n(976970);class v extends a.NetworkCore{constructor(c,h){super(c,h);const u=c==null?void 0:c.networkConfig;this._option=c,this._initializeUrlConfig=new a.UrlConfiguration(a.Endpoint._initialize,u==null?void 0:u.initializeUrl,u==null?void 0:u.api,u==null?void 0:u.initializeFallbackUrls)}fetchEvaluations(c,h,u,d,l){var t,o,s,i,r,_;return m(this,void 0,void 0,function*(){const g=h?(0,a._typedJsonParse)(h,"has_updates","InitializeResponse"):null;let y={user:d,hash:(s=(o=(t=this._option)===null||t===void 0?void 0:t.networkConfig)===null||o===void 0?void 0:o.initializeHashAlgorithm)!==null&&s!==void 0?s:"djb2",deltasResponseRequested:!1,full_checksum:null};if(g!=null&&g.has_updates){const E=(g==null?void 0:g.hash_used)!==((_=(r=(i=this._option)===null||i===void 0?void 0:i.networkConfig)===null||r===void 0?void 0:r.initializeHashAlgorithm)!==null&&_!==void 0?_:"djb2");y=Object.assign(Object.assign({},y),{sinceTime:l&&!E?g.time:0,previousDerivedFields:"derived_fields"in g&&l?g.derived_fields:{},deltasResponseRequested:!0,full_checksum:g.full_checksum})}return this._fetchEvaluations(c,g,y,u)})}_fetchEvaluations(c,h,u,d){var l,t;return m(this,void 0,void 0,function*(){const o=yield this.post({sdkKey:c,urlConfig:this._initializeUrlConfig,data:u,retries:2,isStatsigEncodable:!0,priority:d});if((o==null?void 0:o.code)===204)return'{"has_updates": false}';if((o==null?void 0:o.code)!==200)return(l=o==null?void 0:o.body)!==null&&l!==void 0?l:null;if((h==null?void 0:h.has_updates)!==!0||((t=o.body)===null||t===void 0?void 0:t.includes('"is_delta":true'))!==!0||u.deltasResponseRequested!==!0)return o.body;const s=(0,S._resolveDeltasResponse)(h,o.body);return typeof s=="string"?s:this._fetchEvaluations(c,h,Object.assign(Object.assign(Object.assign({},u),s),{deltasResponseRequested:!1}),d)})}}e.default=v},901809:function(D,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._makeParamStoreGetter=void 0;const m=n(675299),a={disableExposureLog:!0};function S(t){return t==null||t.disableExposureLog===!1}function v(t,o){return o!=null&&!(0,m._isTypeMatch)(t,o)}function f(t,o){return t.value}function c(t,o,s){return t.getFeatureGate(o.gate_name,S(s)?void 0:a).value?o.pass_value:o.fail_value}function h(t,o,s,i){const _=t.getDynamicConfig(o.config_name,a).get(o.param_name);return v(_,s)?s:(S(i)&&t.getDynamicConfig(o.config_name),_)}function u(t,o,s,i){const _=t.getExperiment(o.experiment_name,a).get(o.param_name);return v(_,s)?s:(S(i)&&t.getExperiment(o.experiment_name),_)}function d(t,o,s,i){const _=t.getLayer(o.layer_name,a).get(o.param_name);return v(_,s)?s:(S(i)&&t.getLayer(o.layer_name).get(o.param_name),_)}function l(t,o,s){return(i,r)=>{if(o==null)return r;const _=o[i];if(_==null||r!=null&&(0,m._typeOf)(r)!==_.param_type)return r;switch(_.ref_type){case"static":return f(_,s);case"gate":return c(t,_,s);case"dynamic_config":return h(t,_,r,s);case"experiment":return u(t,_,r,s);case"layer":return d(t,_,r,s);default:return r}}}e._makeParamStoreGetter=l},576251:function(D,e,n){"use strict";var m=this&&this.__awaiter||function(u,d,l,t){function o(s){return s instanceof l?s:new l(function(i){i(s)})}return new(l||(l=Promise))(function(s,i){function r(y){try{g(t.next(y))}catch(E){i(E)}}function _(y){try{g(t.throw(y))}catch(E){i(E)}}function g(y){y.done?s(y.value):o(y.value).then(r,_)}g((t=t.apply(u,d||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const a=n(675299),S=n(389811),v=n(567587),f=n(901809),c=n(405473);class h extends a.StatsigClientBase{static instance(d){const l=(0,a._getStatsigGlobal)().instance(d);return l instanceof h?l:(a.Log.warn((0,a._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new h(d!=null?d:"",{}))}constructor(d,l,t=null){var o,s;a.SDKType._setClientType(d,"javascript-client");const i=new v.default(t,_=>{this.$emt(_)});super(d,(o=t==null?void 0:t.dataAdapter)!==null&&o!==void 0?o:new c.StatsigEvaluationsDataAdapter,i,t),this.getFeatureGate=this._memoize(a.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(a.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(a.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getLayer=this._memoize(a.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(a.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new S.default(d),this._network=i,this._user=this._configureUser(l,t);const r=(s=t==null?void 0:t.plugins)!==null&&s!==void 0?s:[];for(const _ of r)_.bind(this)}initializeSync(d){var l;return this.loadingStatus!=="Uninitialized"?(0,a.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...(l=this._store.getWarnings())!==null&&l!==void 0?l:[]]):(this._logger.start(),this.updateUserSync(this._user,d))}initializeAsync(d){return m(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(d),this._initializePromise)})}updateUserSync(d,l){var t;const o=performance.now(),s=[...(t=this._store.getWarnings())!==null&&t!==void 0?t:[]];this._resetForUser(d);const i=this.dataAdapter.getDataSync(this._user);i==null&&s.push("NoCachedValues"),this._store.setValues(i,this._user),this._finalizeUpdate(i);const r=l==null?void 0:l.disableBackgroundCacheRefresh;return r===!0||r==null&&(i==null?void 0:i.source)==="Bootstrap"?(0,a.createUpdateDetails)(!0,this._store.getSource(),performance.now()-o,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),s):(this._runPostUpdate(i!=null?i:null,this._user),(0,a.createUpdateDetails)(!0,this._store.getSource(),performance.now()-o,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),s))}updateUserAsync(d,l){return m(this,void 0,void 0,function*(){this._resetForUser(d);const t=this._user;a.Diagnostics._markInitOverallStart(this._sdkKey);let o=this.dataAdapter.getDataSync(t);if(this._store.setValues(o,this._user),this._setStatus("Loading",o),o=yield this.dataAdapter.getDataAsync(o,t,l),t!==this._user)return(0,a.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let s=!1;o!=null&&(a.Diagnostics._markInitProcessStart(this._sdkKey),s=this._store.setValues(o,this._user),a.Diagnostics._markInitProcessEnd(this._sdkKey,{success:s})),this._finalizeUpdate(o),s||(this._errorBoundary.attachErrorIfNoneExists(a.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),a.Diagnostics._markInitOverallEnd(this._sdkKey,s,this._store.getCurrentSourceDetails());const i=a.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,a.createUpdateDetails)(s,this._store.getSource(),i,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:a.StatsigSession.get(this._sdkKey),stableID:a.StableID.get(this._sdkKey)}}checkGate(d,l){return this.getFeatureGate(d,l).value}logEvent(d,l,t){const o=typeof d=="string"?{eventName:d,value:l,metadata:t}:d;this._logger.enqueue(Object.assign(Object.assign({},o),{user:this._user,time:Date.now()}))}_primeReadyRipcord(){this.$on("error",()=>{this.loadingStatus==="Loading"&&this._finalizeUpdate(null)})}_initializeAsyncImpl(d){return m(this,void 0,void 0,function*(){return a.Storage.isReady()||(yield a.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,d)})}_finalizeUpdate(d){this._store.finalize(),this._setStatus("Ready",d)}_runPostUpdate(d,l){this.dataAdapter.getDataAsync(d,l,{priority:"low"}).catch(t=>{a.Log.error("An error occurred after update.",t)})}_resetForUser(d){this._logger.reset(),this._store.reset(),this._user=this._configureUser(d,this._options)}_configureUser(d,l){var t;const o=(0,a._normalizeUser)(d,l),s=(t=o.customIDs)===null||t===void 0?void 0:t.stableID;return s&&a.StableID.setOverride(s,this._sdkKey),o}_getFeatureGateImpl(d,l){var t,o;const{result:s,details:i}=this._store.getGate(d),r=(0,a._makeFeatureGate)(d,i,s),_=(o=(t=this.overrideAdapter)===null||t===void 0?void 0:t.getGateOverride)===null||o===void 0?void 0:o.call(t,r,this._user,l),g=_!=null?_:r;return this._enqueueExposure(d,(0,a._createGateExposure)(this._user,g,this._store.getExposureMapping()),l),this.$emt({name:"gate_evaluation",gate:g}),g}_getDynamicConfigImpl(d,l){var t,o;const{result:s,details:i}=this._store.getConfig(d),r=(0,a._makeDynamicConfig)(d,i,s),_=(o=(t=this.overrideAdapter)===null||t===void 0?void 0:t.getDynamicConfigOverride)===null||o===void 0?void 0:o.call(t,r,this._user,l),g=_!=null?_:r;return this._enqueueExposure(d,(0,a._createConfigExposure)(this._user,g,this._store.getExposureMapping()),l),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:g}),g}_getExperimentImpl(d,l){var t,o,s,i;const{result:r,details:_}=this._store.getConfig(d),g=(0,a._makeExperiment)(d,_,r);g.__evaluation!=null&&(g.__evaluation.secondary_exposures=(0,a._mapExposures)((o=(t=g.__evaluation)===null||t===void 0?void 0:t.secondary_exposures)!==null&&o!==void 0?o:[],this._store.getExposureMapping()));const y=(i=(s=this.overrideAdapter)===null||s===void 0?void 0:s.getExperimentOverride)===null||i===void 0?void 0:i.call(s,g,this._user,l),E=y!=null?y:g;return this._enqueueExposure(d,(0,a._createConfigExposure)(this._user,E,this._store.getExposureMapping()),l),this.$emt({name:"experiment_evaluation",experiment:E}),E}_getLayerImpl(d,l){var t,o,s;const{result:i,details:r}=this._store.getLayer(d),_=(0,a._makeLayer)(d,r,i),g=(o=(t=this.overrideAdapter)===null||t===void 0?void 0:t.getLayerOverride)===null||o===void 0?void 0:o.call(t,_,this._user,l);l!=null&&l.disableExposureLog&&this._logger.incrementNonExposureCount(d);const y=(0,a._mergeOverride)(_,g,(s=g==null?void 0:g.__value)!==null&&s!==void 0?s:_.__value,E=>{l!=null&&l.disableExposureLog||this._enqueueExposure(d,(0,a._createLayerParameterExposure)(this._user,y,E,this._store.getExposureMapping()),l)});return this.$emt({name:"layer_evaluation",layer:y}),y}_getParameterStoreImpl(d,l){var t,o;const{result:s,details:i}=this._store.getParamStore(d);this._logger.incrementNonExposureCount(d);const r={name:d,details:i,__configuration:s,get:(0,f._makeParamStoreGetter)(this,s,l)},_=(o=(t=this.overrideAdapter)===null||t===void 0?void 0:t.getParamStoreOverride)===null||o===void 0?void 0:o.call(t,r,l);return _!=null&&(r.__configuration=_.config,r.details=_.details,r.get=(0,f._makeParamStoreGetter)(this,_.config,l)),r}}e.default=h},405473:function(D,e,n){"use strict";var m=this&&this.__awaiter||function(f,c,h,u){function d(l){return l instanceof h?l:new h(function(t){t(l)})}return new(h||(h=Promise))(function(l,t){function o(r){try{i(u.next(r))}catch(_){t(_)}}function s(r){try{i(u.throw(r))}catch(_){t(_)}}function i(r){r.done?l(r.value):d(r.value).then(o,s)}i((u=u.apply(f,c||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigEvaluationsDataAdapter=void 0;const a=n(675299),S=n(567587);class v extends a.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(c,h,u){super.attach(c,h,u),u!==null&&u instanceof S.default?this._network=u:this._network=new S.default(h!=null?h:{})}getDataAsync(c,h,u){return this._getDataAsyncImpl(c,(0,a._normalizeUser)(h,this._options),u)}prefetchData(c,h){return this._prefetchDataImpl(c,h)}setData(c){const h=(0,a._typedJsonParse)(c,"has_updates","data");h&&"user"in h?super.setData(c,h.user):a.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(c,h){super.setData(c,h)}_fetchFromNetwork(c,h,u,d){var l;return m(this,void 0,void 0,function*(){const t=yield(l=this._network)===null||l===void 0?void 0:l.fetchEvaluations(this._getSdkKey(),c,u==null?void 0:u.priority,h,d);return t!=null?t:null})}_getCacheKey(c){var h;const u=(0,a._getStorageKey)(this._getSdkKey(),c,(h=this._options)===null||h===void 0?void 0:h.customUserCacheKeyFunc);return`${a.DataAdapterCachePrefix}.${this._cacheSuffix}.${u}`}_isCachedResultValidFor204(c,h){return c.fullUserHash!=null&&c.fullUserHash===(0,a._getFullUserHash)(h)}}e.StatsigEvaluationsDataAdapter=v},324615:function(D,e,n){"use strict";var m=this&&this.__createBinding||(Object.create?function(v,f,c,h){h===void 0&&(h=c);var u=Object.getOwnPropertyDescriptor(f,c);(!u||("get"in u?!f.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return f[c]}}),Object.defineProperty(v,h,u)}:function(v,f,c,h){h===void 0&&(h=c),v[h]=f[c]}),a=this&&this.__exportStar||function(v,f){for(var c in v)c!=="default"&&!Object.prototype.hasOwnProperty.call(f,c)&&m(f,v,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClient=void 0;const S=n(576251);e.StatsigClient=S.default,a(n(675299),e),__STATSIG__=Object.assign(Object.assign({},__STATSIG__!=null?__STATSIG__:{}),{StatsigClient:S.default}),e.default=__STATSIG__}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/81ce3216f327519f/94141-07cde870ce8432aa-min.en-US.js.map
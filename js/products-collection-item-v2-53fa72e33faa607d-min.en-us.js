"use strict";(self.webpackChunkextract_css=self.webpackChunkextract_css||[]).push([["24787"],{966522:function(m){m.exports={}},869003:function(m){m.exports={}},55930:function(m,p,c){var o=c(886211),y=c(966522),f=c.n(y);YUI.add("squarespace-image-zoom",function(r){r.namespace("Squarespace");var u=r.Squarespace.ImageZoom=r.Base.create("image-zoom",r.Base,[],{initializer:function(){this._shouldInitialize()&&this.get("host")&&this._initializeZoom()},destructor:function(){if(this._shouldInitialize()){var s=this.get("zoomedNode");s&&s.remove(!0),this.get("host").removeClass(u.CSS_PREFIX).removeClass(u.CSS_PREFIX+"--behavior-"+this.get("behavior")),this.get("dropzone").setStyle("position","").removeClass(u.CSS_PREFIX+"-dropzone"),this._zoomTriggerEvent&&this._zoomTriggerEvent.detach(),this._mouseMoveEvent&&this._mouseMoveEvent.detach(),this._mouseOutEvent&&this._mouseOutEvent.detach(),this._resizeEvent&&this._resizeEvent.detach(),this._zoomTriggerEvent=null,this._mouseMoveEvent=null,this._mouseOutEvent=null,this._resizeEvent=null}},_bindUI:function(){var s=this.get("host");this._zoomTriggerEvent=s.on(this.get("behavior"),this._toggleZoom,this),this._mouseMoveEvent=s.on("mousemove",this._trackMovement,this),this._mouseOutEvent=s.on("mouseout",this._zoomOut,this),this._resizeEvent=r.one(window).on("resize",this._refresh,this)},_shouldInitialize:function(){return!r.UA.mobile&&window.Modernizr.csstransforms},_initializeZoom:function(){var s=this.get("host"),l=s.one("img"),g=this.get("dropzone");s.addClass(u.CSS_PREFIX),s.addClass(u.CSS_PREFIX+"--behavior-"+this.get("behavior")),g.addClass(u.CSS_PREFIX+"-dropzone"),g.getStyle("position")==="static"&&g.setStyle("position","relative"),l.getAttribute("src")?(this._appendZoomedNode(),this._bindUI()):l.once("load",function(){this._appendZoomedNode(),this._bindUI()},this)},_appendZoomedNode:function(){var s=this.get("host").one("img"),l=s.getAttribute("data-src");if(!l)return null;var g=s.getAttribute("data-image-dimensions");g||(g=s.get("clientWidth")+"x"+s.get("clientHeight"));var b=s.getAttribute("data-image-focal-point");b||(b="0.5,0.5");var h=r.Node.create('<div class="'+u.CSS_PREFIX+'-duplicate"><img src="'+l+"?format="+this._getSquarespaceSizeForWidth()+'" data-image-dimensions="'+g+'" aria-hidden="true" data-image-focal-point="'+b+'"></div>');h.setStyle("transform","scale("+this.get("zoom")+")"),h.one("img").plug(r.Squarespace.Loader2,{load:!0,mode:"fill"}),this.set("zoomedNode",h),this.get("dropzone").append(h)},_refresh:function(){var s=this.get("host").one("img").getAttribute("data-src"),l=this.get("zoomedNode").one("img");l.setAttribute("src",s+"?format="+this._getSquarespaceSizeForWidth()),l.fire("refresh")},_toggleZoom:function(s){this.get("_isZoomedIn")?this._zoomOut():this._zoomIn(s),s.stopPropagation()},_zoomIn:function(s){this.get("host").addClass("is-zoomed"),this.set("_isZoomedIn",!0),this._trackMovement(s)},_zoomOut:function(){this.get("host").removeClass("is-zoomed"),this.set("_isZoomedIn",!1)},_trackMovement:function(s){if(this.get("_isZoomedIn")){var l=Math.max((s.pageX-this.get("host").getX())/this.get("host").get("clientWidth")*100,0),g=Math.max((s.pageY-this.get("host").getY())/this.get("host").get("clientHeight")*100,0);this.get("zoomedNode").setStyle("transformOrigin",l+"% "+g+"%")}},_getSquarespaceSizeForWidth:function(){var s=this.get("host").one("img").get("clientWidth");return o.zU(s*this.get("zoom"))}},{CSS_PREFIX:"sqs-image-zoom",ATTRS:{host:{value:null,validator:function(s){var l=r.one(s);return r.instanceOf(l,r.Node)&&l.one("img")&&l.all("img").size()<2},writeOnce:!0},dropzone:{valueFn:function(){return this.get("host")},validator:function(s){return r.instanceOf(r.one(s),r.Node)},writeOnce:!0},behavior:{value:"hover",validator:function(s){return!(s!=="hover"&&s!=="click")},writeOnce:!0},zoom:{value:1.5,validator:function(s){return typeof s!="number"||s<=1||s>5,!0},writeOnce:!0},_isZoomedIn:{value:!1}}})},"1.0",{requires:["base","event","node","squarespace-image-loader","yui-base"]})},825096:function(m,p,c){var o=c(41882),y=c(55930)},41882:function(m,p,c){function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var y="sqs-pdp-gallery-slide",f="sqs-pdp-gallery-slide-active",r="sqs-pdp-gallery-slide-transition",u="ProductItem-gallery-slides-item",s="ProductItem-gallery-thumbnails-item",l="sqs-active-slide",g=0;class b{constructor(n,e){o(this,"thumbnails",void 0),o(this,"images",void 0),o(this,"currentIndex",g),o(this,"incrementCurrentIndex",()=>{var i=(this.currentIndex+1)%this.images.length;this.setNewIndex(i)}),o(this,"decrementCurrentIndex",()=>{var i=this.currentIndex-1;i=i<0?i+this.images.length:i,this.setNewIndex(i)}),o(this,"setNewIndex",i=>{i!==this.currentIndex&&(this.images.forEach(a=>a.classList.remove(r)),this.images[i].classList.add(r),this.images[this.currentIndex].classList.add(r),this.setInactiveImage(this.currentIndex),this.setActiveImage(i),this.currentIndex=i)}),o(this,"destroy",()=>{this.images.forEach(a=>{a.classList.remove(f,l,y,r)}),this.thumbnails.forEach(a=>{a.removeEventListener("click",this.handleThumbnailClick)});var i=document.querySelector("iframe#sqs-site-frame");i!==null&&i.contentWindow?i.contentWindow.removeEventListener("keyup",this.handleKeypress):document.removeEventListener("keyup",this.handleKeypress)}),o(this,"handleKeypress",i=>{var a=i.key||i.keyCode;a==="ArrowRight"||a===39?this.incrementCurrentIndex():(a==="ArrowLeft"||a===37)&&this.decrementCurrentIndex()}),o(this,"handleThumbnailClick",i=>{var a=i.currentTarget,d=a.getAttribute("data-thumbnail-index");d&&this.setNewIndex(+d-1)}),o(this,"setActiveImage",i=>this.images[i].classList.add(f,l)),o(this,"setInactiveImage",i=>this.images[i].classList.remove(f,l)),o(this,"attachEventListeners",()=>{this.thumbnails.forEach(a=>{a.addEventListener("click",this.handleThumbnailClick)});var i=document.querySelector("iframe#sqs-site-frame");i!==null&&i.contentWindow?i.contentWindow.addEventListener("keyup",this.handleKeypress):document.addEventListener("keyup",this.handleKeypress)}),this.images=Array.from(n.getElementsByClassName(u)),this.images.forEach((i,a)=>{a===g&&i.classList.add(f,l),i.classList.add(y)}),this.thumbnails=Array.from(e.getElementsByClassName(s)),this.attachEventListeners()}}var h=c(798589),w=c(869003);YUI.add("squarespace-products-collection-item-v2",function(t){t.namespace("Squarespace.SystemCollections.Products").ItemV2=t.Base.create("systemCollectionsProductsItemV2",t.Base,[],{initializer:function(){this._syncSelectedVariantOptions(),this._bindUI(),this._syncUI(),this.get("isLightboxEnabled")&&this._lightboxifyImages()},destructor:function(){this._resizeEvent&&this._resizeEvent.detach(),this._tweakChangeEvent&&this._tweakChangeEvent.detach(),this._tweakResetEvent&&this._tweakResetEvent.detach(),this._tweakCloseEvent&&this._tweakCloseEvent.detach();var e=this.get("host").one(".product-variants");e&&e.getDOMNode().removeEventListener("variant:change",this._variantChangeEvent),t.Array.each(this._selectChangeEvents,function(i){i.detach()}),this._resizeEvent=null,this._tweakChangeEvent=null,this._tweakResetEvent=null,this._tweakCloseEvent=null,this._selectChangeEvents=null,this._variantChangeEvent=null,this._zoomInstances&&this._zoomInstances.length>0&&this._destroyImageZoomInstances(),this.get("slideshow")&&this.get("slideshow").destroy(!0),this.get("lightbox")&&this._destroyLightbox()},_bindUI:function(){this._resizeEvent=t.on("windowresize",function(){this._syncUI()},t.config.win,this),this._tweakChangeEvent=t.Global.on("tweak:change",this._tweakChangeHandler,this),this._tweakResetEvent=t.Global.on("tweak:reset",this._syncUI,this),window.SQUARESPACE_LOGIN&&window.SQUARESPACE_LOGIN.isLoggedIn()&&t.on("beforeunload",function(){this.destroy(!0)},this)},_syncUI:function(){this.get("isProductGallerySlideshow")||this.get("isProductQuickView")?this.get("slideshow")?this._refreshSlideshowGallery():this._renderSlideshowGallery():this.get("isProductGalleryStacked")&&(this.get("isRenderedStackedGallery")?this._refreshStackedGallery():this._renderStackedGallery()),this._loadRelatedItemImages(),this._attachVariantImageListeners()},_attachVariantImageListeners:function(){var e=this.get("host").one(".product-variants");e&&(this._variantChangeEvent&&(e.getDOMNode().removeEventListener("variant:change",this._variantChangeEvent),this._variantChangeEvent=null),this.get("isProductGallerySlideshow")||this.get("isProductQuickView")?(this._variantChangeEvent=this._handleSlideshowGalleryVariantChange.bind(this),e.getDOMNode().addEventListener("variant:change",this._variantChangeEvent)):this.get("isProductGalleryStacked")&&!h.isMobile()&&(this._variantChangeEvent=this._handleStackedGalleryVariantChange.bind(this),e.getDOMNode().addEventListener("variant:change",this._variantChangeEvent)))},_handleStackedGalleryVariantChange:function(e){var i=e.detail.selectedVariant,a=i.mainImageId;if(a){var d=this.get("slideContainer").getDOMNode(),_=d.querySelector(".focus-image");if(_){_.classList.remove("focus-image");var I=_.getAttribute("data-slide-index");d.insertBefore(_,d.children[I])}var v=d.querySelector('[data-image-id="'+a+'"]');v&&(v.classList.add("focus-image"),d.insertBefore(v,d.firstChild))}},_handleSlideshowGalleryVariantChange:function(e){var i=this.get("slideContainer");if(i){var a=i.getDOMNode(),d=this.get("slideshow"),_=e.detail.selectedVariant;if(_.mainImageId){var I=_.mainImageId,v=a.querySelector('[data-image-id="'+I+'"]');if(v){var E=v.getAttribute("data-slide-index");E&&d.setNewIndex(E-1)}}}},_tweakChangeHandler:function(e){switch(e.getName()){case"tweak-product-item-spacing":case"tweak-product-item-gallery-design":case"tweak-product-item-gallery-width":case"tweak-product-item-gallery-aspect-ratio":case"tweak-product-item-gallery-thumbnail-width":this._syncUI();case"tweak-product-item-image-zoom-enabled":case"tweak-product-item-image-zoom-behavior":case"tweak-product-item-image-zoom-factor":this.get("isImageZoomEnabled")?this._instantiateZoom():this._destroyImageZoomInstances();case"tweak-product-item-lightbox-enabled":this.get("isLightboxEnabled")?this._lightboxifyImages():this.get("lightbox")&&this._destroyLightbox();break;case"tweak-related-products-items-per-row":case"tweak-related-products-item-spacing":case"tweak-related-products-image-aspect-ratio":this._loadRelatedItemImages();break}},_syncSelectedVariantOptions:function(){this._selectChangeEvents=[],this.get("host").all(".variant-option").each(function(e){var i=e.one(".variant-select-wrapper");if(i){var a=e.one("select"),d=a.one("option").get("text");i.setAttribute("data-text",d),this._selectChangeEvents.push(e.delegate("change",function(_){var I=a.get("value"),v=I===""?d:I;i.setAttribute("data-text",v)},"select"))}},this)},_renderSlideshowGallery:function(){this.get("isRenderedStackedGallery")&&(this._cleanupStackedGallery(),this.set("isRenderedStackedGallery",!1)),this.get("isImageZoomEnabled")&&this._instantiateZoom(),this._instantiateSlideshow()},_instantiateSlideshow:function(){if(!(this.get("images").size()<1)){var e=this.get("slideContainer").getDOMNode(),i=this.get("thumbnailContainer")&&this.get("thumbnailContainer").getDOMNode();i&&this.set("slideshow",new b(e,i)),this.get("images").each(function(a){a.plug(t.Squarespace.Loader2,{load:!0,mode:"fill"})}),this.get("images").each(function(a){a.fire("refresh")}),this._loadSlideshowThumbnails()}},_loadSlideshowThumbnails:function(){this.get("images").size()>1&&this.get("thumbnails").each(function(e){e.plug(t.Squarespace.Loader2,{load:!0,mode:"fill"})})},_loadRelatedItemImages:function(){this._onImageLoadEvents=[],this.get("relatedItemImages").each(function(e){e.hasClass("loaded")?e.fire("refresh"):(e.plug(t.Squarespace.Loader2,{load:!0,mode:"fill"}),this._onImageLoadEvents.push(e.on("load",function(){e.hasClass("ProductItem-relatedProducts-image--primary")&&e.ancestor(".ProductItem-relatedProducts-item").addClass("image-is-loaded")})))},this)},_refreshSlideshowGallery:function(){this.get("thumbnails").each(function(e){e.fire("refresh")}),this.get("images").each(function(e){e.fire("refresh")})},_destroySlideshowAndResetImageStyles:function(){this.get("slideshow").destroy(!0),this.get("images").each(function(e){e.setStyles({position:"",top:"",left:"",right:"",bottom:"",zIndex:"",width:"",height:"",overflow:""})})},_renderStackedGallery:function(){this.get("slideshow")&&(this._destroySlideshowAndResetImageStyles(),this.set("slideshow",null)),this.get("isImageZoomEnabled")&&this._instantiateZoom(),this.get("images").each(function(e){e.plug(t.Squarespace.Loader2,{load:!0,mode:null})}),this.set("isRenderedStackedGallery",!0)},_refreshStackedGallery:function(){this.get("images").each(function(e){e.fire("refresh")})},_cleanupStackedGallery:function(){var e=this.get("host").getDOMNode(),i=e.querySelector(".cloned-focus-image");i&&i.remove();var a=e.querySelector(".original-focus-image");a&&a.classList.remove(".original-focus-image")},_lightboxifyImages:function(){if(!(this.get("images").size()<1||this.get("isProductQuickView"))){var e=[];this.get("images").each(function(a){e.push({content:a})});var i=this.get("images").size()>1;this._imageClickEvent=this.get("slideContainer").delegate("click",function(a){this.set("lightbox",new t.Squarespace.Lightbox2({controls:{previous:i,next:i},set:e,currentSetIndex:parseInt(a.currentTarget.getAttribute("data-slide-index"),10)-1})),this.get("lightbox").render()},".ProductItem-gallery-slides-item",this)}},_destroyLightbox:function(){this.get("lightbox").destroy(!0),this.set("lightbox",null),this._imageClickEvent.detach(),this._imageClickEvent=null},_instantiateZoom:function(){this._destroyImageZoomInstances(),this._zoomInstances=[],this.get("images").each(function(e){this._zoomInstances.push(new t.Squarespace.ImageZoom({host:e.get("parentNode"),behavior:this.get("isImageZoomBehaviorClick")?"click":"hover",zoom:this.get("imageZoomFactor")}))},this)},_destroyImageZoomInstances:function(){!this._zoomInstances||this._zoomInstances.length<1||(t.Array.each(this._zoomInstances,function(e){e.destroy(!0)}),this._zoomInstances=null)}},{ATTRS:{host:{value:null,validator:function(e){var i=t.one(e);return t.instanceOf(i,t.Node)},writeOnce:!0},slideContainer:{valueFn:function(){return this.get("host").one(".ProductItem-gallery-slides")}},thumbnailContainer:{valueFn:function(){return this.get("host").one(".ProductItem-gallery-thumbnails")}},images:{valueFn:function(){return this.get("host").all(".ProductItem-gallery-slides-item-image")}},thumbnails:{valueFn:function(){return this.get("host").all(".ProductItem-gallery-thumbnails-item-image")}},relatedItemImages:{valueFn:function(){return this.get("host").all(".ProductItem-relatedProducts-image")}},isProductQuickView:{valueFn:function(){return this.get("host").ancestor(".sqs-product-quick-view-lightbox")}},isImageZoomEnabled:{getter:function(){return t.one(".tweak-product-item-image-zoom-enabled")}},isImageZoomBehaviorClick:{getter:function(){return t.one(".tweak-product-item-image-zoom-behavior-click")}},imageZoomFactor:{getter:function(){return parseFloat(t.Squarespace.Template.getTweakValue("tweak-product-item-image-zoom-factor"))}},isLightboxEnabled:{getter:function(){return t.one(".tweak-product-item-lightbox-enabled")&&!this.get("isImageZoomBehaviorClick")}},isProductGallerySlideshow:{getter:function(){return t.one(".tweak-product-item-gallery-design-slideshow")}},isProductGalleryStacked:{getter:function(){return t.one(".tweak-product-item-gallery-design-stacked")}}}});var n=[];t.config.win.Squarespace.onInitialize(t,function(){t.all(".ProductItem.products-collection-v2").each(function(e){if(e.get("parentNode").hasClass("sqs-product-quick-view-content"))return!1;e.one(".ProductItem-details .sqs-add-to-cart-button").removeClass("sqs-editable-button"),n.push(new t.Squarespace.SystemCollections.Products.ItemV2({host:e}))})}),t.config.win.Squarespace.onDestroy(t,function(){n.forEach(function(e){e.destroy()}),n.length=0})},"1.0",{requires:["base","node","squarespace-beforeunload","squarespace-gallery-ng","squarespace-image-loader","squarespace-image-zoom","squarespace-public-api","squarespace-widgets-lightbox2"]})},798589:function(m,p,c){c.r(p),c.d(p,{checkBreakpoint:()=>u,determineCurrentMedia:()=>r,isDesktop:()=>l,isMobile:()=>s,isSubDesktop:()=>b,isTablet:()=>g,mediaQueries:()=>f});var o=c(392338),y=c.n(o),f={mobile:"screen and (max-width: 432px)",desktop:"screen and (min-width: 433px)",tablet:"screen and (max-width: 0px)"},r=()=>Object.keys(f).find(h=>window.matchMedia(f[h]).matches),u=(h,w)=>w?w===h:r()===h,s=h=>u("mobile",h),l=h=>u("desktop",h),g=h=>u("tablet",h),b=h=>s(h)||g(h)},886211:function(m,p,c){c.d(p,{m_:()=>w,zU:()=>h});function o(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function y(t){if(Array.isArray(t))return t}function f(t,n){var e=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var i=[],a=!0,d=!1,_,I;try{for(e=e.call(t);!(a=(_=e.next()).done)&&(i.push(_.value),!(n&&i.length===n));a=!0);}catch(v){d=!0,I=v}finally{try{!a&&e.return!=null&&e.return()}finally{if(d)throw I}}return i}}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,n){return y(t)||f(t,n)||s(t,n)||r()}function s(t,n){if(t){if(typeof t=="string")return o(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(e);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(t,n)}}function l(t,n,e){return t/n*e}function g(t,n,e){return n/t*e}function b(t){var n=t.getAttribute("data-image-dimensions");if(typeof n=="string"){var e=u(n.split("x").map(d=>Number(d)),2),i=e[0],a=e[1];return{width:i,height:a}}return{width:null,height:null}}function h(t){return window.devicePixelRatio&&(t*=window.devicePixelRatio),t>1500?"2500w":t>1e3?"1500w":t>750?"1000w":t>500?"750w":t>300?"500w":t>100?"300w":"100w"}function w(t,n,e){return"/universal/images-v6/icons/icon-".concat(t,"-").concat(n,"-").concat(e,".png")}},392338:function(m){m.exports=void 0}},function(m){var p=function(o){return m(m.s=o)};m.O(0,["98338"],function(){return p(825096)});var c=m.O()}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/50ef884da1285af2/products-collection-item-v2-53fa72e33faa607d-min.en-US.js.map